(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1061:function(t,e,n){},1273:function(t,e,n){n(1272),t.exports=n(470)},470:function(t,e,n){"use strict";n.r(e);n(1267);var r=n(2),o=n.n(r),a=n(49),i=n.n(a),c=(n(1061),n(1059),n(95)),u=n(1277),s=n.n(u),l=n(461),f=n(1276),p=n(1274),h=n(467),y=n(179),d=n.n(y),m=n(1275),b=n(178),v=n.n(b);function w(t){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e){return!e||"object"!==w(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var O=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return S(r,(n=r=S(this,(t=x(e)).call.apply(t,[this].concat(a))),r.state={},r.handleCreate=function(){r.setState({created:v()()})},n))}var n,r,a;return n=e,(r=[{key:"render",value:function(){return this.state.created?o.a.createElement(m.a,{to:{pathname:"/board/".concat(this.state.created)}}):o.a.createElement("div",null,o.a.createElement(d.a,{variant:"raised",color:"primary",onClick:this.handleCreate},"New board"))}}])&&E(n.prototype,r),a&&E(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");g(t.prototype,e&&e.prototype),e&&g(t,e)}(e,t),e}(o.a.Component),P=n(39),j=n.n(P),k=n(469),_=n.n(k),C=n(462),T=n.n(C),N=n(1278),B=n.n(N),M=function(){var t=new window.Ipfs({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star"]}}});return new Promise(function(e){t.once("ready",function(){return e(t)})})},A=n(465),R=n.n(A),W=n(464),I=n.n(W);function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){F(t,e,n[e])})}return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}var U,z=(U=L(j.a.mark(function t(e,n){var r,o,a,i,c,u;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new I.a(n),o={write:["*"]},t.next=4,r.docs(e,o);case 4:return a=t.sent,i=function(){var t=L(j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.load();case 2:return t.abrupt("return",a.query(function(t){return t}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=new R.a.BehaviorSubject,t.t0=c,t.next=10,i();case 10:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),a.events.on("replicated",L(j.a.mark(function t(){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,i();case 3:t.t1=t.sent,t.t0.next.call(t.t0,t.t1);case 5:case"end":return t.stop()}},t,this)}))),u=function(){var t=L(j.a.mark(function t(e){var n,r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id||v()(),t.next=3,a.put(D({},e,{_id:n}));case 3:return r=t.sent,t.t0=c,t.next=7,i();case 7:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),t.abrupt("return",r);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",{posts:c,add:u});case 15:case"end":return t.stop()}},t,this)})),function(t,e){return U.apply(this,arguments)}),H=n(1284),J=n.n(H),V=n(1280),q=n.n(V),G=n(1283),Q=n.n(G),X=n(1279),$=n.n(X),K=n(463),Y=n.n(K),Z=n(1282),tt=n.n(Z),et=n(1281),nt=n.n(et);function rt(t){return(rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return!e||"object"!==rt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t){return(ut=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var st=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return ct(r,(n=r=ct(this,(t=ut(e)).call.apply(t,[this].concat(a))),r.state={isEditing:!1},r.enterEditMode=function(){r.setState({isEditing:!0})},r.handleSave=function(){if(r.setState({isEditing:!1}),r.props.onChange){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){ot(t,e,n[e])})}return t}({},r.props.post,{text:r.state.newText});r.props.onChange(t)}},r.handleChange=function(t){var e=t.target.value;r.setState({newText:e})},r.handleCancel=function(){r.setState({isEditing:!1})},n))}var n,r,a;return n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.post,n=t.classes;return o.a.createElement(J.a,{className:n.container},!this.state.isEditing&&o.a.createElement(Q.a,{className:n.header,action:o.a.createElement(tt.a,{className:n.edit,"aria-label":"Edit","data-automation":"editButton",onClick:this.enterEditMode},o.a.createElement(nt.a,{className:n.editIcon}))}),o.a.createElement(q.a,{className:n.content},!this.state.isEditing&&o.a.createElement(Y.a,{"data-automation":"text"},e.text),this.state.isEditing&&o.a.createElement(_.a,{"data-automation":"textField",multiline:!0,className:n.textField,margin:"normal",variant:"outlined",defaultValue:e.text,onChange:this.handleChange})),this.state.isEditing&&o.a.createElement($.a,null,o.a.createElement(d.a,{className:n.actionButton,onClick:this.handleCancel,"data-automation":"cancel"},"Cancel"),o.a.createElement(d.a,{className:n.actionButton,onClick:this.handleSave,color:"primary","data-automation":"saveButton"},"Save")))}}])&&it(n.prototype,r),a&&it(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");at(t.prototype,e&&e.prototype),e&&at(t,e)}(e,t),e}(o.a.Component),lt=Object(c.withStyles)({container:{minHeight:"80px",width:"100%"},content:{paddingBottom:0},header:{paddingBottom:0,position:"absolute",right:"15px",top:"-2px"},textField:{margin:0,width:"100%"},editIcon:{fontSize:14},actionButton:{fontSize:".5em",minHeight:"0"}})(st);function ft(t){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return!e||"object"!==ft(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function mt(t){return(mt=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var bt=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return dt(r,(n=r=dt(this,(t=mt(e)).call.apply(t,[this].concat(a))),r.state={posts:[],post:{text:""}},r.handleChange=function(t){var e={text:t.target.value};r.setState({post:e})},r.handlePostUpdate=function(t){return r.service.add(t)},r.resetPost=function(){r.setState({post:{text:""}})},r.handleSubmit=function(){var t=pt(j.a.mark(function t(e){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,r.service.add(r.state.post);case 3:r.resetPost();case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n))}var n,r,a,i;return n=e,(r=[{key:"componentDidMount",value:function(){this.loadPosts()}},{key:"loadPosts",value:(i=pt(j.a.mark(function t(){var e,n,r=this;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.hash,t.next=3,M();case 3:return n=t.sent,t.next=6,z(e,n);case 6:this.service=t.sent,this.service.posts.subscribe(function(t){r.setState({posts:t})});case 8:case"end":return t.stop()}},t,this)})),function(){return i.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.props.classes;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},o.a.createElement(_.a,{id:"post",label:"Post",value:this.state.post.text,onChange:this.handleChange,margin:"normal"})),o.a.createElement(T.a,{className:e.list},this.state.posts.map(function(e){return o.a.createElement(B.a,{key:e._id},o.a.createElement(lt,{post:e,onChange:t.handlePostUpdate}))})))}}])&&yt(n.prototype,r),a&&yt(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");ht(t.prototype,e&&e.prototype),e&&ht(t,e)}(e,t),e}(o.a.Component),vt=Object(c.withStyles)({list:{maxWidth:"400px"}})(bt),wt=function(){return o.a.createElement(f.a,null,o.a.createElement(p.a,null,o.a.createElement(h.a,{exact:!0,path:"/",component:O}),o.a.createElement(h.a,{path:"/board/:hash",component:function(t){return o.a.createElement(vt,Object.assign({key:Object(l.a)(["match","params","hash"],t)},t))}})))};n(473);function gt(t){return(gt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xt(t,e){return!e||"object"!==gt(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var Pt=Object(c.createMuiTheme)({palette:{},overrides:{MuiAppBar:{colorPrimary:{}},MuiButton:{raisedPrimary:{}}}}),jt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xt(this,Ot(e).apply(this,arguments))}var n,r,a;return n=e,(r=[{key:"render",value:function(){var t=this.props.classes;return o.a.createElement(c.MuiThemeProvider,{theme:Pt},o.a.createElement("div",{className:t.root},o.a.createElement(s.a,null),o.a.createElement(wt,null)))}}])&&St(n.prototype,r),a&&St(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Et(t.prototype,e&&e.prototype),e&&Et(t,e)}(e,t),e}(r.Component),kt=Object(c.withStyles)({root:{flexGrow:1}})(jt),_t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ct(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}i.a.render(o.a.createElement(kt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/board",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/board","/service-worker.js");_t?(function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):Ct(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ct(t)})}}()},473:function(t,e,n){},578:function(t,e){},580:function(t,e){},620:function(t,e){},632:function(t,e){},634:function(t,e){}},[[1273,0,1]]]);
//# sourceMappingURL=main.276f6a87.chunk.js.map