(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1061:function(t,e,n){},1273:function(t,e,n){n(1272),t.exports=n(470)},470:function(t,e,n){"use strict";n.r(e);n(1267);var r=n(2),o=n.n(r),a=n(49),i=n.n(a),c=(n(1061),n(1059),n(95)),u=n(1277),s=n.n(u),l=n(461),f=n(1276),p=n(1274),m=n(467),d=n(179),h=n.n(d),y=n(1275),v=n(178),b=n.n(v);function w(t){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return!e||"object"!==w(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var S=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return x(r,(n=r=x(this,(t=O(e)).call.apply(t,[this].concat(a))),r.state={},r.handleCreate=function(){r.setState({created:b()()})},n))}var n,r,a;return n=e,(r=[{key:"render",value:function(){return this.state.created?o.a.createElement(y.a,{to:{pathname:"/board/".concat(this.state.created)}}):o.a.createElement("div",null,o.a.createElement(h.a,{variant:"raised",color:"primary",onClick:this.handleCreate},"New board"))}}])&&E(n.prototype,r),a&&E(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");g(t.prototype,e&&e.prototype),e&&g(t,e)}(e,t),e}(o.a.Component),j=n(39),k=n.n(j),P=n(469),C=n.n(P),_=n(462),N=n.n(_),B=n(1278),T=n.n(B),A=function(){var t=new window.Ipfs({EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star"]}}});return new Promise(function(e){t.once("ready",function(){return e(t)})})},I=n(465),W=n.n(I),M=n(464),R=n.n(M);function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){F(t,e,n[e])})}return t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}var z,H=(z=L(k.a.mark(function t(e,n){var r,o,a,i,c,u;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new R.a(n),o={write:["*"]},t.next=4,r.docs(e,o);case 4:return a=t.sent,i=function(){var t=L(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.load();case 2:return t.abrupt("return",a.query(function(t){return t}));case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=new W.a.BehaviorSubject,t.t0=c,t.next=10,i();case 10:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),a.events.on("replicated",L(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=c,t.next=3,i();case 3:t.t1=t.sent,t.t0.next.call(t.t0,t.t1);case 5:case"end":return t.stop()}},t,this)}))),u=function(){var t=L(k.a.mark(function t(e){var n,r;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._id||b()(),t.next=3,a.put(D({},e,{_id:n}));case 3:return r=t.sent,t.t0=c,t.next=7,i();case 7:return t.t1=t.sent,t.t0.next.call(t.t0,t.t1),t.abrupt("return",r);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",{posts:c,add:u});case 15:case"end":return t.stop()}},t,this)})),function(t,e){return z.apply(this,arguments)}),J=n(1284),V=n.n(J),q=n(1280),G=n.n(q),Q=n(1283),U=n.n(Q),X=n(1279),$=n.n(X),K=n(463),Y=n.n(K),Z=n(1282),tt=n.n(Z),et=n(1281),nt=n.n(et);function rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var at=Object(c.withStyles)({container:{minHeight:"80px",width:"100%"},content:{paddingBottom:0},header:{paddingBottom:0,position:"absolute",right:"15px",top:"-2px"},textField:{margin:0,width:"100%"},editIcon:{fontSize:14},actionButton:{fontSize:".5em",minHeight:"0"}})(function(t){var e=t.post,n=t.classes,a=ot(Object(r.useState)(!1),2),i=a[0],c=a[1],u=ot(Object(r.useState)(""),2),s=u[0],l=u[1];return o.a.createElement(V.a,{className:n.container},!i&&o.a.createElement(U.a,{className:n.header,action:o.a.createElement(tt.a,{className:n.edit,"aria-label":"Edit","data-automation":"editButton",onClick:function(){return c(!0)}},o.a.createElement(nt.a,{className:n.editIcon}))}),o.a.createElement(G.a,{className:n.content},!i&&o.a.createElement(Y.a,{"data-automation":"text"},e.text),i&&o.a.createElement(C.a,{"data-automation":"textField",multiline:!0,className:n.textField,margin:"normal",variant:"outlined",defaultValue:e.text,onChange:function(t){return l(t.target.value)}})),i&&o.a.createElement($.a,null,o.a.createElement(h.a,{className:n.actionButton,onClick:function(){return c(!1)},"data-automation":"cancel"},"Cancel"),o.a.createElement(h.a,{className:n.actionButton,onClick:function(){if(c(!1),t.onChange){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){rt(t,e,n[e])})}return t}({},t.post,{text:s});t.onChange(e)}},color:"primary","data-automation":"saveButton"},"Save")))});function it(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t,e){try{var n=a[t](e),i=n.value}catch(t){return void o(t)}n.done?r(i):Promise.resolve(i).then(c,u)}function c(t){i("next",t)}function u(t){i("throw",t)}c()})}}function ct(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ut,st=Object(c.withStyles)({list:{maxWidth:"400px"}})(function(t){var e=t.classes,n=t.match.params.hash,a=ct(Object(r.useState)([]),2),i=a[0],c=a[1],u=ct(Object(r.useState)({text:""}),2),s=u[0],l=u[1];Object(r.useEffect)(it(k.a.mark(function t(){var e,r;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return e=t.sent,t.next=5,H(n,e);case 5:return ut=t.sent,r=ut.posts.subscribe(function(t){c(t)}),t.abrupt("return",function(){r.unsubscribe()});case 8:case"end":return t.stop()}},t,this)})),[n]);var f=function(t){return ut.add(t)},p=(m=it(k.a.mark(function t(e){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,ut.add(s);case 3:l({text:""});case 4:case"end":return t.stop()}},t,this)})),function(t){return m.apply(this,arguments)});var m;return i?o.a.createElement("div",null,o.a.createElement("form",{onSubmit:p,noValidate:!0,autoComplete:"off"},o.a.createElement(C.a,{id:"post",label:"Post",value:s.text,onChange:function(t){return l({text:t.target.value})},margin:"normal"})),o.a.createElement(N.a,{className:e.list},i.map(function(t){return o.a.createElement(T.a,{key:t._id},o.a.createElement(at,{post:t,onChange:f}))}))):null}),lt=function(){return o.a.createElement(f.a,null,o.a.createElement(p.a,null,o.a.createElement(m.a,{exact:!0,path:"/",component:S}),o.a.createElement(m.a,{path:"/board/:hash",component:function(t){return o.a.createElement(st,Object.assign({key:Object(l.a)(["match","params","hash"],t)},t))}})))};n(473);function ft(t){return(ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return!e||"object"!==ft(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t){return(ht=Object.getPrototypeOf||function(t){return t.__proto__})(t)}var yt=Object(c.createMuiTheme)({palette:{},overrides:{MuiAppBar:{colorPrimary:{}},MuiButton:{raisedPrimary:{}}}}),vt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),dt(this,ht(e).apply(this,arguments))}var n,r,a;return n=e,(r=[{key:"render",value:function(){var t=this.props.classes;return o.a.createElement(c.MuiThemeProvider,{theme:yt},o.a.createElement("div",{className:t.root},o.a.createElement(s.a,null),o.a.createElement(lt,null)))}}])&&mt(n.prototype,r),a&&mt(n,a),function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");pt(t.prototype,e&&e.prototype),e&&pt(t,e)}(e,t),e}(r.Component),bt=Object(c.withStyles)({root:{flexGrow:1}})(vt),wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gt(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}i.a.render(o.a.createElement(bt,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/board",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/board","/service-worker.js");wt?(function(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):gt(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):gt(t)})}}()},473:function(t,e,n){},578:function(t,e){},580:function(t,e){},620:function(t,e){},632:function(t,e){},634:function(t,e){}},[[1273,0,1]]]);
//# sourceMappingURL=main.e36bb9b1.chunk.js.map